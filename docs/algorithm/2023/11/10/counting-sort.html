<!-- _layouts/default.html -->
<!DOCTYPE html>
<html>
<head>
  <title>Counting Sort</title>
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123353217-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-123353217-1');
  </script>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1868946892712371" crossorigin="anonymous"></script>

</head>
<body>

  <div id="main-content">
    <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Counting Sort</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2023-11-10T20:00:00+02:00" itemprop="datePublished">Nov 10, 2023
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <h2 id="introduction">Introduction</h2>
<p>Counting sort is an efficient sorting algorithm that can be used to sort elements in a range of integers. It is a non-comparison based sorting algorithm that works by counting the number of occurrences of each element in the array and then using this information to determine the position of each element in the sorted output array.</p>

<h2 id="implementation">Implementation</h2>
<p>Here is an implementation of counting sort in OCaml:</p>

<div class="language-ocaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="n">counting_sort</span> <span class="n">arr</span> <span class="o">=</span>  
  <span class="k">let</span> <span class="n">max_val</span> <span class="o">=</span> <span class="nn">Array</span><span class="p">.</span><span class="n">fold_left</span> <span class="n">max</span> <span class="n">arr</span> <span class="mi">0</span> <span class="k">in</span>  
  <span class="k">let</span> <span class="n">count_arr</span> <span class="o">=</span> <span class="nn">Array</span><span class="p">.</span><span class="n">make</span> <span class="p">(</span><span class="n">max_val</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="mi">0</span> <span class="k">in</span>  
  <span class="nn">Array</span><span class="p">.</span><span class="n">iter</span> <span class="p">(</span><span class="k">fun</span> <span class="n">x</span> <span class="o">-&gt;</span> <span class="n">count_arr</span><span class="o">.</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">&lt;-</span> <span class="n">count_arr</span><span class="o">.</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="n">arr</span><span class="p">;</span>  
  <span class="k">let</span> <span class="n">index_arr</span> <span class="o">=</span> <span class="nn">Array</span><span class="p">.</span><span class="n">make</span> <span class="p">(</span><span class="n">max_val</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="mi">0</span> <span class="k">in</span>  
  <span class="k">let</span> <span class="k">rec</span> <span class="n">fill_index_arr</span> <span class="n">i</span> <span class="n">j</span> <span class="o">=</span>  
    <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">max_val</span> <span class="k">then</span>  
      <span class="k">begin</span>  
        <span class="n">index_arr</span><span class="o">.</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">&lt;-</span> <span class="n">j</span><span class="p">;</span>  
        <span class="n">fill_index_arr</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="p">(</span><span class="n">j</span> <span class="o">+</span> <span class="n">count_arr</span><span class="o">.</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>  
      <span class="k">end</span>  
  <span class="k">in</span>  
  <span class="n">fill_index_arr</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">;</span>  
  <span class="k">let</span> <span class="n">sorted_arr</span> <span class="o">=</span> <span class="nn">Array</span><span class="p">.</span><span class="n">make</span> <span class="p">(</span><span class="nn">Array</span><span class="p">.</span><span class="n">length</span> <span class="n">arr</span><span class="p">)</span> <span class="mi">0</span> <span class="k">in</span>  
  <span class="nn">Array</span><span class="p">.</span><span class="n">iter</span> <span class="p">(</span><span class="k">fun</span> <span class="n">x</span> <span class="o">-&gt;</span> <span class="n">sorted_arr</span><span class="o">.</span><span class="p">(</span><span class="n">index_arr</span><span class="o">.</span><span class="p">(</span><span class="n">x</span><span class="p">))</span> <span class="o">&lt;-</span> <span class="n">x</span><span class="p">;</span> <span class="n">index_arr</span><span class="o">.</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">&lt;-</span> <span class="n">index_arr</span><span class="o">.</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="n">arr</span><span class="p">;</span>  
  <span class="n">sorted_arr</span>  
</code></pre></div></div>

<p>Here, <code class="language-plaintext highlighter-rouge">arr</code> is the input array to be sorted. The function <code class="language-plaintext highlighter-rouge">counting_sort</code> first finds the maximum value in the input array and creates a new array <code class="language-plaintext highlighter-rouge">count_arr</code> to count the number of occurrences of each element in the input array. It then creates another array <code class="language-plaintext highlighter-rouge">index_arr</code> to store the index of each element in the sorted output array. The function <code class="language-plaintext highlighter-rouge">fill_index_arr</code> is a helper function that fills in the <code class="language-plaintext highlighter-rouge">index_arr</code> array based on the counts in <code class="language-plaintext highlighter-rouge">count_arr</code>. Finally, the function creates a new array <code class="language-plaintext highlighter-rouge">sorted_arr</code> and fills it in by iterating over the input array and using the <code class="language-plaintext highlighter-rouge">index_arr</code> array to determine the position of each element in the sorted output array.</p>

<h2 id="step-by-step-explanation">Step-by-step Explanation</h2>
<ol>
  <li>Find the maximum value in the input array.</li>
  <li>Create a new array <code class="language-plaintext highlighter-rouge">count_arr</code> of length <code class="language-plaintext highlighter-rouge">max_val + 1</code> and initialize all elements to 0.</li>
  <li>Iterate over the input array and increment the count of each element in <code class="language-plaintext highlighter-rouge">count_arr</code>.</li>
  <li>Create a new array <code class="language-plaintext highlighter-rouge">index_arr</code> of length <code class="language-plaintext highlighter-rouge">max_val + 1</code> and initialize all elements to 0.</li>
  <li>Define a helper function <code class="language-plaintext highlighter-rouge">fill_index_arr</code> that fills in the <code class="language-plaintext highlighter-rouge">index_arr</code> array based on the counts in <code class="language-plaintext highlighter-rouge">count_arr</code>. The function takes two arguments: <code class="language-plaintext highlighter-rouge">i</code> and <code class="language-plaintext highlighter-rouge">j</code>, where <code class="language-plaintext highlighter-rouge">i</code> is the current index in <code class="language-plaintext highlighter-rouge">count_arr</code> and <code class="language-plaintext highlighter-rouge">j</code> is the current index in <code class="language-plaintext highlighter-rouge">index_arr</code>.</li>
  <li>Call the <code class="language-plaintext highlighter-rouge">fill_index_arr</code> function with initial arguments <code class="language-plaintext highlighter-rouge">0</code> and <code class="language-plaintext highlighter-rouge">0</code>.</li>
  <li>Create a new array <code class="language-plaintext highlighter-rouge">sorted_arr</code> of length <code class="language-plaintext highlighter-rouge">n</code>, where <code class="language-plaintext highlighter-rouge">n</code> is the length of the input array.</li>
  <li>Iterate over the input array and use the <code class="language-plaintext highlighter-rouge">index_arr</code> array to determine the position of each element in the sorted output array. Store each element in the corresponding position in <code class="language-plaintext highlighter-rouge">sorted_arr</code>.</li>
  <li>Return <code class="language-plaintext highlighter-rouge">sorted_arr</code>.</li>
</ol>

<h2 id="complexity-analysis">Complexity Analysis</h2>
<p>The time complexity of counting sort is O(n + k), where n is the length of the input array and k is the range of the input integers. The space complexity is also O(n + k).</p>

<p>The algorithm iterates over the input array twice: once to count the occurrences of each element and once to fill in the sorted output array. The time complexity of these two iterations is O(n). The algorithm also creates two additional arrays: <code class="language-plaintext highlighter-rouge">count_arr</code> and <code class="language-plaintext highlighter-rouge">index_arr</code>, each of length k. Therefore, the space complexity of the algorithm is O(n + k).</p>

  </div><a class="u-url" href="/algorithm/2023/11/10/counting-sort.html" hidden></a>
</article>

  </div>

</body>
</html>
